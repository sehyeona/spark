# Chapter04 구조적 API 개요
- - -
> 다양한 데이터를 쉽게 다룰 수 있는 RDD와는 다른 *구조적*인 API   
> 데이터의 흐름을 정리하는 기본 추상화 개념
1. Dataset
2. DataFrame
3. SQL 테이블과 뷰
- - - 
### 4.1 DataFrame과 Dataset
> DataFrame과 Dataset은 잘 정의된 로우와 컬럼을 가지는 분산 테이블 형태의 컬렉션
* 각 컬럼은 다른 컬럼과 동일한 수의 로우를 가져야한다.
* 컬렉션의 모든 로우는 같은 데이터 타입의 정보를 가지고 있어야한다. 
* DataFrame과 Dataset은 지연 연산의 *실행계획* 이다.(어떤 데이터에 어떤 연산)
* 불변성을 가진다.
#### 스키마
> 스키마는 DataFrame의 컬럼명과 데이터 타입을 정의한다. 
* 데이터 소스에서 얻거나, 직접 정의가능
* 여러 데이터 타입으로 구성(컬럼마다 다르니까), 어떤 데이터 타입이 어느 위치에 있는지 정의하는 방법 필요
#### 카탈리스트
> 계획수립/ 처리에 사용하는 자체 데이터 타입을 가지고 있는 *카탈리스트 엔진* 을 제공한다.
* 스파크는 자체적인 데이터 타입을 가지고 있기때문에 사실상 프로그래밍 언어이다. 
* 제공하는 다른 언어에 대한 매핑 테이블을 가지고 있다. 
```
df = spark.range(100).toDF('number')
df.select(df['number'] + 50)
```
파이썬으로 작성된 표현식 => 탈리스트 엔진 => 스파크 데이터 타입으로 변형
#### DataFrmae VS Dataset
